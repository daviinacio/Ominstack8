{"version":3,"sources":["services/api.js","pages/Login.js","pages/Main.js","routes.js","App.js","index.js","assets/logo.svg","assets/like.svg","assets/dislike.svg","assets/itsamatch.png"],"names":["api","axios","create","baseURL","Login","history","useState","username","setUsername","e","a","preventDefault","post","response","_id","data","console","log","push","className","onSubmit","src","logo","alt","placeholder","value","onChange","target","type","Main","match","users","setUsers","matchDev","setMatchDev","id","headers","user","params","filter","useEffect","get","loadUsers","io","query","on","dev","to","length","map","key","avatar","name","href","without","rel","bio","onClick","handleDislike","dislike","handleLike","like","itsamatch","Routes","basename","path","exact","component","App","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.e076aeea.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: 'https://omnistack8-di.herokuapp.com/'\r\n});\r\n\r\nexport default api;\r\n","import React, { useState } from 'react';\r\n// Importação de um arquivo que não precisa de um nome\r\nimport './Login.css';\r\n\r\nimport api from '../services/api';\r\n\r\nimport logo from '../assets/logo.svg';\r\n\r\n// Para passar argumentos para um componente basta\r\n// Passar as como propridade do componente. Ex: <Login prop1=\"p1\" prop2=\"p2\" />\r\n// Existem duas formas de obter os values\r\n// 1) Pela variável props\r\n//      function Login(props){\r\n//          props.prop1;\r\n//          props.prop2;\r\n//          // ou\r\n//          const { prop1, prop2 } = props;\r\n//      }\r\n//\r\n// 2) Pela desestruturação\r\n//      function Login({ prop1, prop2 }){\r\n//          \r\n//      }\r\n\r\n// Todas as rotas automaticamente herdam uma propriedade chamada history\r\n// function Login({ history }) { ... }\r\n\r\n// Os três conceitor do React\r\n// Componente, Estado e Propriedades\r\n\r\n// Um componente é uma função\r\n// O componente também pode ser exportado diretamente\r\nexport default function Login({ history }){\r\n    // Conceito de estado\r\n    // O estado de um componente é todo e qualquer informação que o componente vai manipular\r\n    const [ username, setUsername ] = useState('');\r\n\r\n\r\n    // Uma função pode ser passada de duas formas para o html\r\n    // Diretamente -> { e => ... }\r\n    // Extermanemte -> {nomeDaFunção}\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        // Como em username: username as duas variáveis tem o mesmo nome\r\n        // Mode se deixar apenas 'username'. É um recurso de short syntaz.\r\n        const response = await api.post('/devs', {\r\n            username,\r\n        });\r\n\r\n        const { _id } = response.data;\r\n\r\n        console.log(_id);\r\n\r\n        history.push(`/dev/${_id}`);\r\n    }\r\n    \r\n\r\n    // Precisa retornar um HTML\r\n    // Se o HTML tiver mais de uma linha, precisa colocar entre '()'\r\n    return (\r\n        // class é uma palavra reservada do javascript para declarar classes\r\n        // Então o recomendado é utilizar className\r\n        <div className=\"login-container\">\r\n            <form onSubmit={handleSubmit}>\r\n                <img src={logo} alt=\"Tindev\"/>\r\n                <input\r\n                    placeholder=\"Digite seu usuário no GitHub\"\r\n                    value={username}\r\n                    onChange={e => setUsername(e.target.value)}\r\n                />\r\n                <button type=\"submit\">Entrar</button>\r\n            </form>\r\n            \r\n        </div>\r\n    );\r\n}\r\n\r\n// Exportar o componente\r\n//export default Login;","import React, { useEffect, useState } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\n// Serve para redirecionar dentro da aplicação\r\nimport { Link } from 'react-router-dom';\r\n\r\n// StyleSheet\r\nimport './Main.css';\r\n\r\nimport api from '../services/api';\r\n\r\n// Assets\r\nimport logo from '../assets/logo.svg';\r\nimport like from '../assets/like.svg';\r\nimport dislike from '../assets/dislike.svg';\r\nimport itsamatch from '../assets/itsamatch.png';\r\n\r\n// O react-router-dom inclue uma propriedade no componente chamado 'match'\r\n// Dentro desse 'match' tem todos os parametros que foram passados para essa rota\r\n// Para obter os parametros basta usar Main({ match }){ match.params.prop; }\r\nexport default function Main({ match }){\r\n    // Toda vez que for necessário uma variável que o componente possa ter acesso,\r\n    // se usa o useState(<Valor inicial>)\r\n    const [ users, setUsers ] = useState([]);\r\n    const [ matchDev, setMatchDev ] = useState(null);\r\n\r\n    // Recebe 2 parametros: \r\n    //      Função que quer executar (pode ser uma arrow function. () => {})\r\n    //      Quando quer executar a função. Array de dependências do useEffecs.\r\n    //          A função é chamada toda vez que alguma variável do array é alterada.\r\n    //          Se o array estiver vazio, a função será executada apenas uma vez.\r\n\r\n    // Executa toda vez que o parâmetro id for alterado\r\n    useEffect(() => {\r\n        async function loadUsers(){\r\n            const response = await api.get('/devs', {\r\n                headers: {\r\n                    user: match.params.id\r\n                }\r\n            });\r\n\r\n            // Toda vez que o valor de um estado é alterado\r\n            // Uma nova renderização é gerada pelo react\r\n            // E todo o HTML é renderizado do zero com os novos dados.\r\n            setUsers(response.data);\r\n\r\n            console.log(response.data);\r\n        }\r\n\r\n        loadUsers();\r\n    },[match.params.id]);\r\n\r\n    useEffect(() => {\r\n        const socket = io('https://omnistack8-di.herokuapp.com/', {\r\n            // Parametros adicionais que se pode enviar na conexão\r\n            query: {\r\n                user: match.params.id\r\n            }\r\n        });\r\n\r\n        // Escuta o evento match e recebe o dev\r\n        socket.on('match', dev => {\r\n            setMatchDev(dev);\r\n        })\r\n\r\n        /*socket.on('world', message => {\r\n            console.log(message);\r\n        });\r\n\r\n        setTimeout(() => {\r\n            // Emite uma mensagem do tipo 'hello' para o backend\r\n            socket.emit('hello', {\r\n                message: 'Hello world'\r\n            })\r\n        }, 3000);*/\r\n\r\n    }, [match.params.id]);\r\n\r\n    // Toda ação gerada a partir de uma interação do usuário é chamada de handle\r\n    async function handleDislike(id){\r\n        // No método post, o segundo parametro é o corpo da requisição.\r\n        // Para passar os paremetros, deve se usar o terceiro parametro da função.\r\n        api.post(`/devs/${id}/dislikes`, null, {\r\n            headers: {\r\n                user: match.params.id\r\n            }\r\n        });\r\n\r\n        console.log(`dislike: ${id}`);\r\n\r\n        // Modificando a lista de usuários filtrando apenas usuários cujo o id seja diferente.\r\n        // A variável user nunca pode ser alterada diretamente, apenas com o setUsers\r\n        setUsers(users.filter(user => user._id !== id));\r\n    }\r\n\r\n    async function handleLike(id){\r\n        api.post(`/devs/${id}/likes`, null, {\r\n            headers: {\r\n                user: match.params.id\r\n            }\r\n        });\r\n\r\n        setUsers(users.filter(user => user._id !== id));\r\n\r\n        console.log(`like: ${id}`);\r\n    }\r\n\r\n    //return <h1>{match.params.id}</h1>;\r\n    return (\r\n        <div className=\"main-container\">\r\n            <Link to=\"/\">\r\n                <img src={logo} alt=\"tindev\" />\r\n            </Link>\r\n            {/* Um if ternário sendo utilizado para mostrar uma mensagem se estiver vazio */}\r\n            { users.length > 0 ? (\r\n                <ul>\r\n                {users.map(user => (\r\n                    // O react precisa de uma key unica para gerencias melhor a lista\r\n                    // Sem a key, todos os elementos serão recarregado quando holver alterações\r\n                    // Inserir uma key, melhora consideravelmente a performance\r\n                    <li key={user._id}>\r\n                        <img src={user.avatar} alt={user.name}/>\r\n                        <footer>\r\n                            <a href={`http://github.com/${user.user}`} target=\"_blank\" \r\n                                    without=\"true\" rel=\"noopener noreferrer\">\r\n                                <strong>{user.name}</strong>\r\n                            </a>\r\n                            <p>{user.bio}</p>\r\n                        </footer>\r\n                        <div className=\"buttons\">\r\n                            {/* Quando o react encontra uma função com '()', \r\n                                ele entende que deve executar e usar o valor do retorno.\r\n                                Para executar a função apenas quando o evento for chamado,\r\n                                deve ser declarado uma função por volta. Essa função pode\r\n                                ser uma arrow function.\r\n                            */}\r\n                            <button type=\"button\" onClick={() => handleDislike(user._id)}>\r\n                                <img src={dislike} alt=\"dislike\" />\r\n                            </button>\r\n                            <button type=\"button\" onClick={() => handleLike(user._id)}>\r\n                                <img src={like} alt=\"like\" />\r\n                            </button>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n            ) : (\r\n                <div className=\"empty\">Acabou :(</div>\r\n            )}\r\n\r\n            {/* // Mostra a tela de match se 'matchDev' for qualquer valor válido (não falsy) */}\r\n            { matchDev && (\r\n                <div className=\"match-container\">\r\n                    <img src={itsamatch} alt=\"It's a match\" />\r\n                    <img className=\"avatar\" src={matchDev.avatar} alt=\"\" />\r\n                    <strong>{matchDev.name}</strong>\r\n                    <p>{matchDev.bio}</p>\r\n                    \r\n                    <button onClick={() => { setMatchDev(null); }}>Fechar</button>\r\n                </div>\r\n            ) }\r\n        </div>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route } from 'react-router-dom';\r\n\r\nimport Login from './pages/Login';\r\nimport Main from './pages/Main';\r\n\r\nexport default function Routes(){\r\n\r\n    // O exact força o router a indentificar apenas se a rota for exatamente igual\r\n    return (\r\n        <BrowserRouter basename=\"/tindev\">\r\n            <Route path=\"/\" exact component={Login}/>\r\n            <Route path=\"/dev/:id\" component={Main}/>\r\n        </BrowserRouter>\r\n    );\r\n}","import React from 'react';\nimport './App.css';\n\nimport Routes from './routes'\n\n\nfunction App() {\n\n  return(<Routes />);\n  /*return (\n    <h1>Olá marilene</h1>\n    \n  );*/\n}\n\nexport default App;\n","// Biblioteca do react\nimport React from 'react';\n// Biblioteca do react para trabalhar com o DOM do navegador\nimport ReactDOM from 'react-dom';\n\n//import './index.css';\nimport App from './App';\n//import * as serviceWorker from './serviceWorker';\n\n// Renderiza alguma coisa dentro da div 'root'\n// No lugar de <App /> pode conter qualquer HTML\n// Cadastra qual é o componente global/principal da aplicação\n// Geralmente é rodado apenas uma vez\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n//serviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/logo.6a01ceef.svg\";","module.exports = __webpack_public_path__ + \"static/media/like.542059a4.svg\";","module.exports = __webpack_public_path__ + \"static/media/dislike.d4ec34e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/itsamatch.21c10b26.png\";"],"sourceRoot":""}